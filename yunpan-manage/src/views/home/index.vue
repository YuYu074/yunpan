<template>
  <AppPage show-footer>
    <div class="flex">
      <n-card class="min-w-200 w-30%">
        <div class="flex items-center">
          <n-avatar round :size="60" :src="userStore.avatar" class="flex-shrink-0" />
          <div class="ml-20 flex-col">
            <span class="text-20 opacity-80">
              Hello, {{ userStore.nickName ?? userStore.username }}
            </span>
            <span class="mt-4 opacity-50">å½“å‰è§’è‰²ï¼š{{ userStore.currentRole?.name }}</span>
          </div>
        </div>

        <p class="mt-28 text-14 opacity-60">ä¸€ä¸ªäººå‡ ä¹å¯ä»¥åœ¨ä»»ä½•ä»–æ€€æœ‰æ— é™çƒ­å¿±çš„äº‹æƒ…ä¸ŠæˆåŠŸã€‚</p>
      </n-card>
      <n-card class="ml-12 w-70%" title="âœ¨ æ¬¢è¿ä½¿ç”¨ å°é±¼ç½‘ç›˜åå°ç®¡ç†ç³»ç»ŸV2.0">

        <p class="opacity-60">
          æ¬¢è¿ä½¿ç”¨æˆ‘çš„ä¸ªäººç½‘ç›˜ç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€æ¬¾ä¸“ä¸ºä¸ªäººç”¨æˆ·æ‰“é€ çš„äº‘ç«¯å­˜å‚¨ä¸åˆ†äº«è§£å†³æ–¹æ¡ˆã€‚
        </p>
        <p class="opacity-60">
          å°é±¼ç½‘ç›˜ç³»ç»Ÿè‡´åŠ›äºä¸ºç”¨æˆ·æä¾›å®‰å…¨ã€é«˜æ•ˆã€ä¾¿æ·çš„æ–‡ä»¶å­˜å‚¨ä¸å…±äº«ä½“éªŒã€‚
        </p>
        <footer class="mt-12 flex items-center justify-end">
          <n-button
            type="primary"
            class="ml-12"
            tag="a"
            href="https://gitee.com/yu-yang686/yunpan"
            target="__blank"
          >
            ä»£ç ä»“åº“
          </n-button>
        </footer>
      </n-card>
    </div>
    <div class="mt-12 flex">
      <n-card class="w-50%" title="ğŸ’¯ æˆ‘ä»¬çš„ä¼˜åŠ¿" segmented>
        <!-- <template #header-extra>
          <span class="opacity-90 text-highlight">ğŸ‘ å†ç»åå‡ æ¬¡é‡æ„å’Œç»†èŠ‚æ‰“ç£¨</span>
        </template> -->

        <ul class="opacity-90">
          <li class="py-4">
            ğŸ‡ 
            <b>æµ·é‡å­˜å‚¨</b>
            : æä¾›å¤§å®¹é‡çš„äº‘å­˜å‚¨ç©ºé—´ï¼Œæ»¡è¶³æ‚¨æ—¥ç›Šå¢é•¿çš„å­˜å‚¨éœ€æ±‚ã€‚
          </li>
          <li class="py-4">
            ğŸ‡ 
            <b>é«˜é€Ÿä¸Šä¼ ä¸‹è½½</b>
            : é‡‡ç”¨å…ˆè¿›çš„ç½‘ç»œä¼ è¾“æŠ€æœ¯ï¼Œç¡®ä¿æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½çš„é«˜é€Ÿç¨³å®šã€‚
          </li>
          <li class="py-4">
            ğŸ‡ 
            <b>æ–‡ä»¶ç®¡ç†ä¸åˆ†ç±»</b>
            : æ”¯æŒæ–‡ä»¶å¤¹åˆ›å»ºã€æ–‡ä»¶ç§»åŠ¨ã€é‡å‘½åç­‰æ“ä½œï¼Œæ–¹ä¾¿æ‚¨è½»æ¾ç®¡ç†è‡ªå·±çš„æ–‡ä»¶ã€‚
          </li>
          <li class="py-4">
            ğŸ‡ 
            <b>å®‰å…¨ä¿éšœ</b>
            : é‡‡ç”¨å¤šé‡åŠ å¯†æŠ€æœ¯ï¼Œç¡®ä¿ç”¨æˆ·æ•°æ®çš„å®‰å…¨ä¸éšç§ã€‚åŒæ—¶ï¼Œæä¾›å®šæœŸå¤‡ä»½å’Œæ¢å¤åŠŸèƒ½ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚
          </li>
          <li class="py-4">
            ğŸ‡ 
            <b>ç®€å•æ˜“ç”¨</b>
            : ç•Œé¢ç®€æ´æ˜äº†ï¼Œæ“ä½œä¾¿æ·ï¼Œæ— éœ€å¤æ‚è®¾ç½®å³å¯è½»æ¾ä¸Šæ‰‹ã€‚
          </li>
          <li class="py-4">
            ğŸ‡ 
            <b>å…è´¹è¯•ç”¨ä¸å‡çº§</b>
            : æä¾›å…è´¹è¯•ç”¨ç‰ˆæœ¬ï¼Œè®©æ‚¨ä½“éªŒæˆ‘ä»¬çš„ç½‘ç›˜ç³»ç»Ÿã€‚åŒæ—¶ï¼Œæä¾›å¤šç§ä»˜è´¹å‡çº§é€‰é¡¹ï¼Œæ»¡è¶³æ‚¨ä¸åŒå±‚æ¬¡çš„å­˜å‚¨éœ€æ±‚ã€‚
          </li>
        </ul>

        <n-divider class="mb-0! mt-12!">
          <p class="text-14 opacity-60">
            ğŸ‘‰ æ›´å¤šå®ç”¨åŠŸèƒ½ï¼ŒæŒç»­å¼€å‘ä¸­...
          </p>
        </n-divider>
      </n-card>

      <n-card class="ml-12 w-50%" title="ğŸ› ï¸ æŠ€æœ¯æ ˆ" segmented>
        <VChart :option="skillOption" autoresize />
      </n-card>
    </div>

    <n-card class="mt-12" title="âš¡ï¸ ç”¨æˆ·è¶‹åŠ¿" segmented>
      <VChart :option="trendOption" :init-options="{ height: 400 }" autoresize />
    </n-card>
  </AppPage>
</template>

<script setup>
import { useUserStore } from '@/store'
import * as echarts from 'echarts/core'
import { TooltipComponent, GridComponent, LegendComponent } from 'echarts/components'
import { BarChart, LineChart, PieChart } from 'echarts/charts'
import { UniversalTransition } from 'echarts/features'
import { CanvasRenderer } from 'echarts/renderers'
import VChart from 'vue-echarts'

const userStore = useUserStore()

echarts.use([
  TooltipComponent,
  GridComponent,
  LegendComponent,
  BarChart,
  LineChart,
  CanvasRenderer,
  UniversalTransition,
  PieChart,
])

const trendOption = {
  tooltip: {
    trigger: 'axis',
    axisPointer: {
      type: 'cross',
      crossStyle: {
        color: '#999',
      },
    },
  },
  legend: {
    top: '5%',
    data: ['user'],
  },
  xAxis: [
    {
      type: 'category',
      data: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],
      axisPointer: {
        type: 'shadow',
      },
    },
  ],
  yAxis: [
    {
      type: 'value',
      min: 0,
      max: 500,
      interval: 100,
      axisLabel: {
        formatter: '{value}',
      },
    },
  ],
  series: [
    {
      name: 'user',
      yAxisIndex: 0,
      type: 'bar',
      data: [40, 72, 110, 115, 121, 175, 180, 201, 260, 398, 423, 455]
    },
  ],
}

const skillOption = {
  tooltip: {
    trigger: 'item',
    formatter({ name, value }) {
      return `${name} ${value}%`
    },
  },
  legend: {
    left: 'center',
  },
  series: [
    {
      top: '12%',
      type: 'pie',
      radius: ['35%', '90%'],
      avoidLabelOverlap: true,
      itemStyle: {
        borderRadius: 10,
        borderColor: '#fff',
        borderWidth: 2,
      },
      label: {
        show: false,
        position: 'center',
      },
      emphasis: {
        label: {
          show: true,
          fontSize: 36,
          fontWeight: 'bold',
        },
      },
      labelLine: {
        show: false,
      },
      data: [
        { value: 38.5, name: 'Vue' },
        { value: 37.0, name: 'JavaScript' },
        { value: 6.5, name: 'CSS' },
        { value: 6.2, name: 'HTML' },
        { value: 1.8, name: 'Other' },
      ],
    },
  ],
}

const message = $message
</script>
